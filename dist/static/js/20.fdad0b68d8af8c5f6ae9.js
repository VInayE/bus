webpackJsonp([20],{169:function(e,t,n){"use strict";n.d(t,"g",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var o=function(e){return Vue.http.get('/busPWA/busview/ajax-search?src=""&dest=""&ddate='+e.ddate+"&tt="+e.tt+"&qty="+e.qty+"&srcStnCode="+e.srcID+"&destStnCode="+e.destID)},s=function(e){return Vue.http.get("/busPWA/busview/getReviewView?superpnr="+e.superPNR+"&smid="+e.smid+"&tt=o")},a=function(e,t){return Vue.http.get("/busPWA/busview/getCancellationPolicy?src="+e.src+"&dest="+e.dest+"&dep="+e.ddate+"&bid="+t)},r=function(e){return Vue.http.post("/busPWA/busview/getSeatMap?searchId="+e.searchID+"&busId="+e.busID+"&idProof="+e.idProof)},i=function(e){return Vue.http.headers.common["Content-Type"]="text/plain;charset=ISO-8859-1",Vue.http.post("/promo/partialValidate?promocode="+e.promoCode+"&superPnr="+e.superPNR+"&context=TRAVELLER")},c=function(e){return Vue.http.post("/busPWA/busview/getBookingDetails/?superPnr="+e.spnr+"&uuid="+e.uuid)},u=function(e){return Vue.http.get("/busPWA/busview/confirmationjson?ttid="+e.ttid+"&suc="+e.suc)}},200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(169);t.default={data:function(){return{fbSignInParams:{scope:"email, user_likes",return_scopes:!0},snackbar:!1,snackbarText:"",timeout:3e3,y:"bottom",showLoader:!1}},mounted:function(){window.fbAsyncInit=function(){FB.init({appId:"1690000827931920",cookie:!0,xfbml:!0,version:"v2.8"})},function(e,t,n){var o,s=e.getElementsByTagName(t)[0];e.getElementById(n)||(o=e.createElement(t),o.id=n,o.src="//connect.facebook.net/en_US/sdk.js",s.parentNode.insertBefore(o,s))}(document,"script","facebook-jssdk")},methods:{onSignInSuccess:function(e){var t=this;this.showLoader=!0,FB.api("/me",function(n){"connected"===e.status&&t.fblogin(e.authResponse.accessToken)})},FB_Login:function(){var e=this;FB.login(function(t){FB.api("/me",function(n){e.fblogin(t.authResponse.accessToken)})})},onSignInError:function(e){this.showLoader=!1,this.snackbar=!0,this.snackbarText="Some Error has occured. Try after sometimes"},fblogin:function(e){var t={authMode:"FACEBOOK",loginStep:"ResponseCheck",accessToken:e,sourcepage:"",includeOptionalParams:!0,channel:"b2c",productId:"Flight"};Vue.http.headers.common["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",Vue.http.options.emulateJSON=!0;var n=this;this.$http.post("https://www.yatra.com/social/social/login.htm",t).then(function(e){if(e.body.customerDetails&&Object.keys(e.body.customerDetails).length>0)if(e.body.isLinkedAccount)n.$emit("paymentRedirect");else{var t={email:e.body.responseData.userInfo.email,mob:e.body.customerDetails.mobileNum?e.body.customerDetails.mobileNum:null,mobileISD:e.body.customerDetails.mobileISDCode?e.body.customerDetails.mobileISDCode:null};n.showLoader=!1,n.setUserInfo(t),n.$emit("openLinkedAccount",!0)}else n.snackbar=!0,n.snackbarText=e.body.responseMessage,n.showLoader=!1},function(e){n.snackbar=!0,n.snackbarText="Some Error occured . Try after sometimes",n.showLoader=!1})}}}},252:function(e,t,n){t=e.exports=n(152)(!0),t.push([e.i,".p15[data-v-ee8dfb0e]{padding:10px 0}.facebookbtn[data-v-ee8dfb0e]{background-color:#3b5998;color:#fff;text-align:center;padding:8px;border-radius:3px;font-size:15px;font-weight:500;width:100%}.tc[data-v-ee8dfb0e]{font-size:12px;text-align:center;margin:10px 0}.container[data-v-ee8dfb0e]{padding:20px 16px}","",{version:3,sources:["F:/bus/src/components/common/facebook.vue"],names:[],mappings:"AACA,sBACM,cAAgB,CACrB,AACD,8BACQ,yBAA0B,AAC1B,WAAY,AACZ,kBAAmB,AACnB,YAAa,AACb,kBAAmB,AACnB,eAAgB,AAChB,gBAAiB,AACd,UAAY,CACtB,AACD,qBACQ,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CACtB,AACD,4BACI,iBAAmB,CACtB",file:"facebook.vue",sourcesContent:["\n.p15[data-v-ee8dfb0e] {\n      padding: 10px 0;\n}\n.facebookbtn[data-v-ee8dfb0e] {\n        background-color: #3B5998;\n        color: #fff;\n        text-align: center;\n        padding: 8px;\n        border-radius: 3px;\n        font-size: 15px;\n        font-weight: 500;\n           width: 100%;\n}\n.tc[data-v-ee8dfb0e] {\n        font-size: 12px;\n        text-align: center;\n        margin: 10px 0;\n}\n.container[data-v-ee8dfb0e] {\n    padding: 20px 16px;\n}\n  "],sourceRoot:""}])},284:function(e,t,n){var o=n(252);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(153)("c3668176",o,!0,{})},298:function(e,t,n){function o(e){n(284)}var s=n(56)(n(200),n(336),o,"data-v-ee8dfb0e",null);e.exports=s.exports},336:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{},[n("v-container",{attrs:{fluid:""}},[n("v-snackbar",{staticClass:"snacktxt",attrs:{timeout:e.timeout,bottom:"bottom"===e.y},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n            "+e._s(e.snackbarText)+"\n        "),n("v-btn",{staticClass:"txt-ff",attrs:{flat:""},nativeOn:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1),e._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"facebookbtn",attrs:{xs12:"",params:e.fbSignInParams},on:{success:e.onSignInSuccess,error:e.onSignInError,click:e.FB_Login}},[e._v("\n                Login with Facebook\n              ")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=20.fdad0b68d8af8c5f6ae9.js.map