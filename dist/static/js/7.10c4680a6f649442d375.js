webpackJsonp([7],{165:function(e,t,s){function a(e){s(258)}var o=s(56)(s(218),s(310),a,null,null);e.exports=o.exports},168:function(e,t,s){"use strict";function a(e){var t,s;return t=new RegExp("[; ]"+e+"=([^\\s;]*)"),s=(" "+document.cookie).match(t),e&&s?unescape(s[1]):""}s.d(t,"a",function(){return o});var o=function(e,t,s,o,i,r,n,l){var u={page:{pageInfo:{pageName:e,lob:t,sessionID:""!==a("sessionID")?a:"",platform:s},category:{pageType:o,primaryCategory:i,subCategory1:r,subCategory2:n,subCategory3:l}}};"undefined"!=typeof yt_adobe&&"undefined"!=typeof _satellite?yt_adobe.addDigitalData(u):"undefined"!=typeof yt_adobe&&"undefined"==typeof _satellite&&("production"==="production".toString()?yt_adobe.addHeaderScript("true","PROD"):yt_adobe.addHeaderScript("true"),yt_adobe.addDigitalData(u),yt_adobe.addFooterScript()),"undefined"!=typeof yt_adobe&&yt_adobe.track("virtualPageView",u)}},218:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(s(57),s(22),s(168));t.default={components:{FaceBookBlock:function(){return s.e(20).then(s.bind(null,298))}},data:function(){return{emailId:"",valid:!1,password:"",ex8:"guest",channel:"b2c",selectedTelephoneCode:"+91",phoneNumber:"",busProductId:"pwa_bus",password_rules:[function(e){return!!e||"Password is required"}],Email_rules:[function(e){return!!e||"Email addresss is required"},function(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)||0==e.length||"Enter correct Email Address"}],Phone_rules:[function(e){return!!e||"Phone Number is required"},function(e){return/^\d{10}$/.test(e)||0==e.length||"Please enter valid phone no"}],submitted:!1,e3:!1,snackbar:!1,snackbarText:"",timeout:3e3,y:"bottom",showLoader:!1,showRegisterMessage:!1,loginDialog:!1}},created:function(){localStorage.setItem("loginBackClickStatus","false")},mounted:function(){s.i(a.a)("yt:bus:dom:checkout:login","bus","ios/pwa","business","bus checkout","domestic bus","login",""),localStorage.removeItem("retainTravellerDetails")},methods:{toLowerCase:function(){this.emailId=this.emailId.toLowerCase()},submitLogin:function(){if(this.submitted=!0,this.$refs.form.validate()&&this.$refs.form.value){var e={emailId:this.emailId,password:this.password,includeOptionalParams:"true",productId:this.busProductId,channel:this.channel};Vue.http.headers.common["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",Vue.http.options.emulateJSON=!0,this.showLoader=!0;var t=this;this.$http.post("/social/user/login.htm",e).then(function(e){if("FACEBOOK"==e.body.authMode)if("104"==e.body.responseCode){var s={email:e.body.email,mobile:e.body.responseData.mobileNum,mobileISD:e.body.responseData.mobileISDCode,loginAs:"registered"};localStorage.setItem("userInfo",JSON.stringify(s)),t.redirectToPayment(e.body.ssoToken)}else t.snackbar=!0,t.snackbarText=e.body.responseMessage,t.showLoader=!1;else if("SUCCESS"==e.body.status){var a={email:e.body.responseData.userInfo.email,mobile:e.body.responseData.userInfo.mobile,mobileISD:e.body.responseData.userInfo.mobileISD,loginAs:"registered"};localStorage.setItem("userInfo",JSON.stringify(a)),t.showLoader=!1,t.$router.push({name:"BusReview"})}else t.snackbar=!0,t.snackbarText=e.body.responseMessage,t.showLoader=!1},function(e){t.snackbar=!0,t.snackbarText=e.body.responseMessage?e.body.responseMessage:"Some Error occured . Try after sometimes",t.showLoader=!1})}},formIsValid:function(){var e=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return""!==this.emailId&&""!==this.phoneNumber&&e.test(this.emailId)&&10==this.phoneNumber.length},submitGuest:function(){if(this.submitted=!0,this.$refs.form.validate()&&this.$refs.form.value&&this.formIsValid()){var e={email:this.emailId,mobile:this.phoneNumber,mobileISD:this.selectedTelephoneCode,includeOptionalParams:!0,channel:this.channel,productId:this.busProductId,loginAs:"guest"};Vue.http.headers.common["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",Vue.http.options.emulateJSON=!0,this.showLoader=!0;var t=this;this.$http.post("/social/user/createUser.htm",e).then(function(s){"SUCCESS"==s.data.status?(localStorage.setItem("userInfo",JSON.stringify(e)),t.$router.push({name:"BusReview"})):(t.snackbar=!0,t.snackbarText=s.data.responseMessage,t.showLoader=!1)},function(e){t.snackbar=!0,t.snackbarText=e.data.responseMessage?e.data.responseMessage:"Some Error occured . Try after sometimes",t.showLoader=!1})}},navigateToBoarding:function(){localStorage.setItem("loginBackClickStatus","true"),this.$router.push({name:"BusDropingPoint"})},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)))return!0;e.preventDefault()},telephoneDialog:function(){this.showTelephoneDialog=!0},navigateToRegister:function(){this.$router.push({name:"BusRegister"})},navigateToForgotPass:function(){this.$router.push({name:"BusForgotPassword"})},redirectToPayment:function(){if("p2p"==this.loginOption)this.loginDialog=!1,this.loginOption="",this.showLoader=!1,this.$emit("cabsPPLogin",{});else if(this.getCabFareDetails.fare_details.price.advance_charge)this.showLoader=!1,router.push({name:"PaySwift"});else{var e={travel_type:this.getcabsSRPData.travel_type,search_id:this.getcabsSRPData.search_id,fare_id:this.getCabFareDetails.fare_id,gst_details:""!=this.getGSTDetailsForm.gst_details.address?this.getGSTDetailsForm.gst_details:{}},t=this;this.$http.post("cabs/v1/orders",e).then(function(e){t.showLoader=!1,200==e.status&&router.push({name:"CabsConfirmation"})},function(e){t.showLoader=!1})}}}}},226:function(e,t,s){t=e.exports=s(152)(!0),t.push([e.i,".m0{margin:0!important}.p20{padding:10px 16px 20px}.registerTab{padding:0 20px}.registerTab .txt_blue{color:#1976d2}.registerTab .txt-r{text-align:right}.input-guest label{font-size:11px;color:#000}.input-guest .input-group__details{display:none}.loginBtn{margin-top:15px}","",{version:3,sources:["F:/bus/src/views/loginBlock.vue"],names:[],mappings:"AACA,IACE,kBAAqB,CACtB,AACD,KACE,sBAA6B,CAC9B,AACD,aACE,cAAgB,CACjB,AACD,uBACI,aAAe,CAClB,AACD,oBACI,gBAAkB,CACrB,AACD,mBACE,eAAgB,AAChB,UAAa,CACd,AACD,mCACE,YAAc,CACf,AACD,UACE,eAAiB,CAClB",file:"loginBlock.vue",sourcesContent:["\n.m0 {\n  margin: 0 !important;\n}\n.p20 {\n  padding: 10px 16px 20px 16px;\n}\n.registerTab {\n  padding: 0 20px;\n}\n.registerTab .txt_blue {\n    color: #1976d2;\n}\n.registerTab .txt-r {\n    text-align: right;\n}\n.input-guest label {\n  font-size: 11px;\n  color: black;\n}\n.input-guest .input-group__details {\n  display: none;\n}\n.loginBtn {\n  margin-top: 15px;\n}\n"],sourceRoot:""}])},258:function(e,t,s){var a=s(226);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(153)("32573bf0",a,!0,{})},310:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-view",model:{value:e.loginDialog,callback:function(t){e.loginDialog=t},expression:"loginDialog"}},[s("v-snackbar",{staticClass:"snacktxt",attrs:{timeout:e.timeout,bottom:"bottom"===e.y},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n        "+e._s(e.snackbarText)+"\n    "),s("v-btn",{staticClass:"txt-ff",attrs:{flat:""},nativeOn:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1),e._v(" "),s("v-toolbar",[s("v-layout",{staticClass:"nav-bar side-padding",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs2:""},on:{click:e.navigateToBoarding}},[s("i",{staticClass:"ico-sprite ico-back"})]),e._v(" "),s("v-flex",{attrs:{xs8:""}},[e._v("Login to Yatra")])],1)],1),e._v(" "),s("div",{staticClass:"p20"},[s("v-radio-group",{staticClass:"input-guest",attrs:{mandatory:!1},model:{value:e.ex8,callback:function(t){e.ex8=t},expression:"ex8"}},[s("v-layout",{attrs:{wrap:"",row:""}},[s("v-flex",{attrs:{xs6:""}},[s("v-radio",{staticClass:"dib",attrs:{color:"primary",label:"Continue As Guest",value:"guest",small:""}})],1),e._v(" "),s("v-flex",{attrs:{xs6:""}},[s("v-radio",{staticClass:"dib",attrs:{color:"primary",label:"I Have a Yatra Account",value:"user"}})],1)],1)],1),e._v(" "),s("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{ref:"loginEmail",staticClass:"pb0",attrs:{label:"Email ID",required:"",rules:e.submitted?e.Email_rules:[]},on:{keyup:e.toLowerCase},model:{value:e.emailId,callback:function(t){e.emailId=t},expression:"emailId"}}),e._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},["guest"==e.ex8?s("v-flex",{attrs:{xs3:""}},[s("v-text-field",{staticClass:"pb0",attrs:{label:"ISD Code"},on:{click:e.telephoneDialog,keypress:e.telephoneDialog},model:{value:e.selectedTelephoneCode,callback:function(t){e.selectedTelephoneCode=t},expression:"selectedTelephoneCode"}})],1):e._e(),e._v(" "),"guest"==e.ex8?s("v-flex",{attrs:{xs8:"","offset-xs1":""}},[s("v-text-field",{ref:"registerPhone",staticClass:"pb0",attrs:{label:"Mobile Number",required:"",maxlength:"10",rules:e.submitted?e.Phone_rules:[]},on:{keypress:function(t){e.isNumber(t)}},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})],1):e._e()],1),e._v(" "),"user"==e.ex8?s("v-text-field",{ref:"loginPassword",attrs:{name:"input-10-2",label:"Enter your password",hint:"",min:"8",rules:e.submitted?e.password_rules:[],"append-icon":e.e3?"visibility_off":"visibility","append-icon-cb":function(){return e.e3=!e.e3},type:e.e3?"text":"password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}):e._e(),e._v(" "),"guest"==e.ex8?s("div",{staticClass:"loginBtn redBtn",on:{click:function(t){return t.stopPropagation(),e.submitGuest(t)}}},[e._v("CONTINUE AS GUEST")]):e._e(),e._v(" "),"user"==e.ex8?s("div",{staticClass:"loginBtn redBtn",on:{click:function(t){return t.stopPropagation(),e.submitLogin(t)}}},[e._v("LOGIN")]):e._e()],1)],1),e._v(" "),s("div",{staticClass:"registerTab"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"txt_blue",attrs:{xs5:""},on:{click:function(t){e.navigateToRegister()}}},[e._v("Register")]),e._v(" "),s("v-flex",{staticClass:"txt_blue txt-r",attrs:{xs7:""},on:{click:function(t){e.navigateToForgotPass()}}},[e._v("Forgot Password")])],1)],1),e._v(" "),s("face-book-block",{on:{openLinkedAccount:function(t){e.openlinkedDialog=!0},paymentRedirect:e.redirectToPayment}}),e._v(" "),e.showLoader?s("div",{staticClass:"ajax-loader"},[e._m(0)]):e._e()],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sk-wave"},[s("div",{staticClass:"sk-rect sk-rect1"}),e._v(" "),s("div",{staticClass:"sk-rect sk-rect2"}),e._v(" "),s("div",{staticClass:"sk-rect sk-rect3"}),e._v(" "),s("div",{staticClass:"sk-rect sk-rect4"}),e._v(" "),s("div",{staticClass:"sk-rect sk-rect5"})])}]}}});
//# sourceMappingURL=7.10c4680a6f649442d375.js.map