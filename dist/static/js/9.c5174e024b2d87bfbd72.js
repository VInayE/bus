webpackJsonp([9],{157:function(t,a,o){function s(t){o(273)}var n=o(56)(o(209),o(325),s,"data-v-634068dc",null);t.exports=n.exports},169:function(t,a,o){"use strict";o.d(a,"g",function(){return s}),o.d(a,"c",function(){return n}),o.d(a,"d",function(){return i}),o.d(a,"f",function(){return e}),o.d(a,"e",function(){return r}),o.d(a,"b",function(){return c}),o.d(a,"a",function(){return l});var s=function(t){return Vue.http.get('/busPWA/busview/ajax-search?src=""&dest=""&ddate='+t.ddate+"&tt="+t.tt+"&qty="+t.qty+"&srcStnCode="+t.srcID+"&destStnCode="+t.destID)},n=function(t){return Vue.http.get("/busPWA/busview/getReviewView?superpnr="+t.superPNR+"&smid="+t.smid+"&tt=o")},i=function(t,a){return Vue.http.get("/busPWA/busview/getCancellationPolicy?src="+t.src+"&dest="+t.dest+"&dep="+t.ddate+"&bid="+a)},e=function(t){return Vue.http.post("/busPWA/busview/getSeatMap?searchId="+t.searchID+"&busId="+t.busID+"&idProof="+t.idProof)},r=function(t){return Vue.http.headers.common["Content-Type"]="text/plain;charset=ISO-8859-1",Vue.http.post("/promo/partialValidate?promocode="+t.promoCode+"&superPnr="+t.superPNR+"&context=TRAVELLER")},c=function(t){return Vue.http.post("/busPWA/busview/getBookingDetails/?superPnr="+t.spnr+"&uuid="+t.uuid)},l=function(t){return Vue.http.get("/busPWA/busview/confirmationjson?ttid="+t.ttid+"&suc="+t.suc)}},209:function(t,a,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=o(169),n=o(23);a.default={data:function(){return{searchParams:{},confirmationData:{},paymentErrorMessage:"",showPaymentDialog:!1,DurationFormat:"",reverseDeparture:"",reverseArrival:"",seatsVal:"",showLoader:!1,totalFinalAmount:0,totalFare:0}},components:{confirmationError:function(){return o.e(25).then(o.bind(null,306))}},created:function(){var t=this;this.searchParams.ttid=this.$route.query.ttid,this.searchParams.suc=this.$route.query.suc,this.showLoader=!0,o.i(s.a)(this.searchParams).then(function(a){if(console.log(a.body),a&&a.body&&"string"==typeof a.body&&a.body.indexOf("suc:false")>=0)localStorage.setItem("failedPayment",!0),t.$router.push({name:"BusPaySwift"});else{t.confirmationData=a.body,t.DurationFormat=t.format(t.confirmationData.bookingDetails.itinerary.ow.dur);var o=t.confirmationData.bookingDetails.itinerary.ow.dd,s=o.split("-"),n=s.reverse();t.reverseDeparture=n.join("-");var i=t.confirmationData.bookingDetails.itinerary.ow.ad,e=i.split("-"),r=e.reverse();t.reverseArrival=r.join("-"),1==t.confirmationData.bookingDetails.itinerary.ow.seats.length?t.seatsVal=t.confirmationData.bookingDetails.itinerary.ow.seats[0].sn:t.seatsVal=t.confirmationData.bookingDetails.itinerary.ow.seats.map(function(t){return t.sn}).join(","),t.totalFinalAmount=parseInt(t.confirmationData.paymentDetails.totalFare)-parseInt(t.confirmationData.paymentDetails.discountDetails.amount),t.totalFare=parseInt(t.confirmationData.paymentDetails.totalFare)}t.showLoader=!1}).catch(function(a){t.showPaymentDialog=!0,t.showLoader=!1,t.paymentErrorMessage=a.body.Message})},methods:{closeboardingDialog:function(){n.a.push({name:"BusPaySwift"})},format:function(t){return t.replace(/(?:0)?(\d+):(?:0)?(\d+).*/,"$1H $2M")}}}},241:function(t,a,o){a=t.exports=o(152)(!0),a.push([t.i,"li[data-v-634068dc]{list-style:none}ul[data-v-634068dc]{padding-left:0}.conf-book .c-module[data-v-634068dc]{padding:16px;border-bottom:5px solid #eee}.conf-book .c-module[data-v-634068dc]:last-child{border-bottom:none}.conf-book .c-module>div[data-v-634068dc]:last-child{margin-right:0}.conf-book .c-module>div .fs-14[data-v-634068dc]{color:rgba(0,0,0,.54)}.conf-book .c-module>div .c-dark[data-v-634068dc]{color:rgba(0,0,0,.87)!important}.conf-book .c-module p[data-v-634068dc]{margin-bottom:5px}.conf-book .c-module .bus-policy[data-v-634068dc]{color:#2196f3;position:relative}.w100[data-v-634068dc]{width:100%}.p010[data-v-634068dc]{padding:10px 0}.brd[data-v-634068dc]{border-top:1px solid #eee;padding-top:15px;margin-top:15px}.f500[data-v-634068dc]{font-weight:500}.mt15[data-v-634068dc]{margin-top:15px}.c-g[data-v-634068dc]{color:#6cac6f}.cgrey[data-v-634068dc]{color:rgba(0,0,0,.54)}.img_ecash[data-v-634068dc]{width:50px;padding-right:2px;margin-left:6px}","",{version:3,sources:["F:/bus/src/views/busConfirmation.vue"],names:[],mappings:"AACA,oBACE,eAAiB,CAClB,AACD,oBACE,cAAgB,CACjB,AACD,sCACE,aAAc,AACd,4BAAiC,CAClC,AACD,iDACI,kBAAoB,CACvB,AACD,qDACI,cAAgB,CACnB,AACD,iDACI,qBAA2B,CAC9B,AACD,kDACI,+BAAsC,CACzC,AACD,wCACI,iBAAmB,CACtB,AACD,kDACI,cAAe,AACf,iBAAmB,CACtB,AACD,uBACE,UAAY,CACb,AACD,uBACE,cAAgB,CACjB,AACD,sBACE,0BAA2B,AAC3B,iBAAkB,AAClB,eAAiB,CAClB,AACD,uBACE,eAAiB,CAClB,AACD,uBACE,eAAiB,CAClB,AACD,sBACE,aAAe,CAChB,AACD,wBACE,qBAA2B,CAC5B,AACD,4BACE,WAAY,AACZ,kBAAmB,AACnB,eAAiB,CAClB",file:"busConfirmation.vue",sourcesContent:["\nli[data-v-634068dc] {\n  list-style: none;\n}\nul[data-v-634068dc] {\n  padding-left: 0;\n}\n.conf-book .c-module[data-v-634068dc] {\n  padding: 16px;\n  border-bottom: 5px solid #EEEEEE;\n}\n.conf-book .c-module[data-v-634068dc]:last-child {\n    border-bottom: none;\n}\n.conf-book .c-module > div[data-v-634068dc]:last-child {\n    margin-right: 0;\n}\n.conf-book .c-module > div .fs-14[data-v-634068dc] {\n    color: rgba(0, 0, 0, 0.54);\n}\n.conf-book .c-module > div .c-dark[data-v-634068dc] {\n    color: rgba(0, 0, 0, 0.87) !important;\n}\n.conf-book .c-module p[data-v-634068dc] {\n    margin-bottom: 5px;\n}\n.conf-book .c-module .bus-policy[data-v-634068dc] {\n    color: #2196F3;\n    position: relative;\n}\n.w100[data-v-634068dc] {\n  width: 100%;\n}\n.p010[data-v-634068dc] {\n  padding: 10px 0;\n}\n.brd[data-v-634068dc] {\n  border-top: 1px solid #eee;\n  padding-top: 15px;\n  margin-top: 15px;\n}\n.f500[data-v-634068dc] {\n  font-weight: 500;\n}\n.mt15[data-v-634068dc] {\n  margin-top: 15px;\n}\n.c-g[data-v-634068dc] {\n  color: #6CAC6F;\n}\n.cgrey[data-v-634068dc] {\n  color: rgba(0, 0, 0, 0.54);\n}\n.img_ecash[data-v-634068dc] {\n  width: 50px;\n  padding-right: 2px;\n  margin-left: 6px;\n}\n"],sourceRoot:""}])},273:function(t,a,o){var s=o(241);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);o(153)("261a57bb",s,!0,{})},325:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("v-toolbar",[o("v-layout",{staticClass:"nav-bar side-padding",attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs2:""},on:{click:function(a){t.closeboardingDialog()}}},[o("v-icon",[t._v("arrow_back")])],1),t._v(" "),o("v-flex",{attrs:{xs10:""}},[t._v("Booking Details")])],1)],1),t._v(" "),Object.keys(t.confirmationData).length>0?o("div",{staticClass:"conf-book"},[o("div",{staticClass:"c-module"},[o("ul",[t._m(0),t._v(" "),o("li",[o("div",{staticClass:"c-g"},[t._v("Bus Booking "+t._s(t.confirmationData.confirmationDetails.status))]),t._v(" "),o("div",{staticClass:"fs-14 cgrey"},[t._v("Yatra booking Ref No: "+t._s(t.confirmationData.confirmationDetails.bookingRefNo))])])]),t._v(" "),null!=t.confirmationData.confirmationDetails?o("ul",{staticClass:"brd"},[o("li",[t._v("Booking details have been sent to")]),t._v(" "),o("li",[o("i",{staticClass:"ico"}),t._v(" "),o("span",[t._v(t._s(t.confirmationData.confirmationDetails.userInfo.mobile))])]),t._v(" "),o("li",[o("i",{staticClass:"ico"}),t._v(" "),o("span",[t._v(t._s(t.confirmationData.confirmationDetails.userInfo.email))])])]):t._e()]),t._v(" "),null!=t.confirmationData.bookingDetails?o("div",{staticClass:"c-module loc"},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs4:""}},[o("div",[t._v(t._s(t.confirmationData.bookingDetails.itinerary.ow.dc))]),t._v(" "),o("div",[t._v(t._s(t.confirmationData.bookingDetails.itinerary.ow.dt))]),t._v(" "),o("div",{staticClass:"fs-14"},[t._v(t._s(t.reverseDeparture))])]),t._v(" "),o("v-flex",{attrs:{xs4:""}},[o("div",[t._v(t._s(t.confirmationData.bookingDetails.itinerary.ow.ac))]),t._v(" "),o("div",[t._v(t._s(t.confirmationData.bookingDetails.itinerary.ow.at))]),t._v(" "),o("div",{staticClass:"fs-14"},[t._v(t._s(t.reverseArrival))])]),t._v(" "),o("v-flex",{attrs:{xs4:""}},[o("div",[t._v("Duration")]),t._v(" "),o("div",{staticClass:"fs-14 c-dark"},[t._v(t._s(t.DurationFormat))])])],1),t._v(" "),o("ul",{staticClass:"brd"},[o("li",[o("p",{staticClass:"f500"},[t._v("Boarding Details")]),t._v(" "),o("p",{staticClass:"fs-14"},[t._v(t._s(t.confirmationData.bookingDetails.itinerary.ow.bp.address))])])]),t._v(" "),o("ul",{staticClass:"brd"},[o("li",[o("p",{staticClass:"f500"},[t._v("Dropping Details")]),t._v(" "),o("p",{staticClass:"fs-14"},[t._v(t._s(t.confirmationData.bookingDetails.itinerary.ow.dp.address))])])]),t._v(" "),o("ul",{staticClass:"mt15 brd"},[o("li",[o("p",{staticClass:"f500"},[t._v("Bus Details")]),t._v(" "),o("span",{staticClass:"fs-14"},[t._v(t._s(t.confirmationData.bookingDetails.itinerary.ow.supplier))]),t._v(" "),o("div",{},[o("span",{staticClass:"fs-14"},[t._v(t._s(t.confirmationData.bookingDetails.itinerary.ow.btn))]),t._v(" "),o("div",[o("span",[t._v("Seat Number:")]),t._v(" "),o("span",[o("span",{staticClass:"fs-14"},[t._v(t._s(t.seatsVal))])])]),t._v(" "),o("p",[o("span",[t._v("Bus Pnr : "+t._s(t.confirmationData.bookingDetails.itinerary.ow.buspnr))])])])])]),t._v(" "),o("ul",{staticClass:"brd"},[o("li",[o("p",{staticClass:"f500"},[t._v("Traveller Name")]),t._v(" "),t._l(t.confirmationData.bookingDetails.passengerInfo.passengers,function(a){return o("p",{key:a.name},[t._v("\n                        "+t._s(a.name)+"\n                    ")])})],2)])],1):t._e(),t._v(" "),o("div",{staticClass:"c-module"},[o("p",{staticClass:"f500"},[t._v("Fare Breakup")]),t._v(" "),o("div",{staticClass:"brd-btm w100 p010 fs-14"},[o("p",{staticStyle:{color:"slategrey"}},[o("span",[t._v("Basic Fare")]),t._v(" "),o("span",{staticClass:"fr"},[t._v("â‚¹"),o("vue-numeric",{attrs:{"read-only":"",separator:","},model:{value:t.totalFare,callback:function(a){t.totalFare=a},expression:"totalFare"}})],1)]),t._v(" "),parseInt(t.confirmationData.paymentDetails.discountDetails.amount)>0?o("p",{staticStyle:{color:"slategrey"}},[o("span",[t._v("Promo Discount")]),t._v(" "),o("span",{staticClass:"fr"},[t._v("â‚¹"+t._s(parseInt(t.confirmationData.paymentDetails.discountDetails.amount)))])]):t._e()]),t._v(" "),o("p",{staticClass:"brd-btm w100 p010"},[o("span",[t._v("Total Amount")]),t._v(" "),o("span",{staticClass:"fr"},[t._v("\n                    â‚¹"),o("vue-numeric",{attrs:{"read-only":"",separator:","},model:{value:t.totalFinalAmount,callback:function(a){t.totalFinalAmount=a},expression:"totalFinalAmount"}})],1)]),t._v(" "),o("p",{staticClass:"p010 fs-14",staticStyle:{color:"slategrey"}},[o("span",[t._v("You Earn")]),t._v(" "),o("span",{staticClass:"fr"},[t._v("â‚¹"+t._s(parseInt(t.confirmationData.paymentDetails.eCashEarn))+" \n                    "),o("img",{staticClass:"img_ecash",attrs:{src:"/pwa/bus/static/img/icons/ecash.svg"}})])])]),t._v(" "),o("confirmation-error",{attrs:{showPaymentDialog:t.showPaymentDialog,paymentErrorMessage:t.paymentErrorMessage},on:{closePaymentError:function(a){t.showPaymentDialog=!1}}})],1):t._e(),t._v(" "),t.showLoader?o("div",{staticClass:"ajax-loader"},[t._m(1)]):t._e()],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("li",[o("i",{staticClass:"ico"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"sk-wave"},[o("div",{staticClass:"sk-rect sk-rect1"}),t._v(" "),o("div",{staticClass:"sk-rect sk-rect2"}),t._v(" "),o("div",{staticClass:"sk-rect sk-rect3"}),t._v(" "),o("div",{staticClass:"sk-rect sk-rect4"}),t._v(" "),o("div",{staticClass:"sk-rect sk-rect5"})])}]}}});
//# sourceMappingURL=9.c5174e024b2d87bfbd72.js.map