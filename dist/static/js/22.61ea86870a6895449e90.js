webpackJsonp([22],{168:function(t,e,a){"use strict";function n(t){var e,a;return e=new RegExp("[; ]"+t+"=([^\\s;]*)"),a=(" "+document.cookie).match(e),t&&a?unescape(a[1]):""}a.d(e,"a",function(){return o});var o=function(t,e,a,o,i,s,r,d){var c={page:{pageInfo:{pageName:t,lob:e,sessionID:""!==n("sessionID")?n:"",platform:a},category:{pageType:o,primaryCategory:i,subCategory1:s,subCategory2:r,subCategory3:d}}};"undefined"!=typeof yt_adobe&&"undefined"!=typeof _satellite?yt_adobe.addDigitalData(c):"undefined"!=typeof yt_adobe&&"undefined"==typeof _satellite&&("production"==="production".toString()?yt_adobe.addHeaderScript("true","PROD"):yt_adobe.addHeaderScript("true"),yt_adobe.addDigitalData(c),yt_adobe.addFooterScript()),"undefined"!=typeof yt_adobe&&yt_adobe.track("virtualPageView",c)}},194:function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0});var o=a(57),i=a(22),s=a(171),r=a(23),d=a(168),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t};e.default={props:["openWalletDialog","walletOption","totalAmountPayble","redeemedAmountPayble","superPNR"],components:{LoaderView:function(){return a.e(15).then(a.bind(null,170))},paymentError:function(){return a.e(16).then(a.bind(null,172))}},computed:c({},a.i(o.b)({getUserInfo:i.j})),data:function(){var t;return t={timeout:1500,snackbarText:"",snackbar:!1,y:"bottom",walletDialog:!1,showLoader:!1,createOrderResponse:{},bankcode:"",totalPrice:0,redeemedamount:0},n(t,"snackbar",!1),n(t,"y","bottom"),n(t,"timeout",3e3),n(t,"paymentErrorMessage",{}),n(t,"showPaymentDialog",!1),t},watch:{openWalletDialog:function(){this.walletDialog=this.openWalletDialog,this.createOrderResponse=this.superPNR,this.totalPrice=this.totalAmountPayble,this.redeemedamount=this.redeemedAmountPayble,a.i(d.a)("yt:bus:dom:checkout:payment:wallet","bus","ios/pwa","business","bus checkout","domestic bus","payment","wallet")}},created:function(){this.createOrderResponse=this.superPNR},methods:{navigateToSrp:function(){r.a.push({name:"BusSRP"})},makePayment:function(){if(""==this.bankcode)return this.snackbar=!0,!1;this.paySwiftCall()},closeWalletDialog:function(){this.$emit("closeWalletDialog",!1)},paySwiftCall:function(){var t=this,e=JSON.parse(localStorage.getItem("userInfo")),n=JSON.parse(localStorage.getItem("busReviewRequest")),o=localStorage.getItem("departDate");this.showLoader=!0,Vue.http.headers.common["Content-Type"]="application/json",Vue.http.headers.common["YT-CHANNEL"]="PWA",Vue.http.headers.common["YT-TENANT-CODE"]="pwa_cab_outstation",Vue.http.options.emulateJSON=!1;var i={patternMatch:new RegExp("^[1-9][0-9]?$"),paymentModeType:"FULL",paymentAmount:this.totalPrice-this.redeemedamount,tdate:o,payOptionType:"mw",bankcode:this.bankcode,productCode:"pwa_bus"},r={amountDisplayed:i.paymentAmount,eCashRedemed:this.redeemedamount,appVersion:"1.0",client:"APP",discount:0,discountingStatus:!1,email:e.email,merchant:"yatra",mob:e.mobile,otherDiscountingStatus:!1,paymentMode:i.paymentModeType,paymentOptionParameters:"tdate="+i.tdate+"|merchant=yatra|product="+i.productCode+"|payop="+i.payOptionType+"|bankCode="+i.bankcode+"|prBank="+i.bankcode+"|client=APP|uuid="+localStorage.getItem("UUID"),product:i.productCode,promoCode:JSON.parse(localStorage.getItem("promoCodePayment")).code,promoType:JSON.parse(localStorage.getItem("promoCodePayment")).type,superPnr:n.superPNR,ttid:parseInt("11"+n.superPNR),uuid:localStorage.getItem("UUID"),amountToRedeem:this.redeemedamount};Vue.http.options.emulateJSON=!0,this.$http.post("https://www.yatra.com/PaySwift/payNow",r).then(function(e){t.showLoader=!1,t.showPaymentDialog=!1,e.body&&e.body.rurl?a.i(s.a)(e.body):e.body&&Object.keys(e.body.redirectMap)?(t.paymentErrorMessage=e.body.redirectMap.errMsg||"Oops, we seem to have temporary hiccup. We apologise for the inconvenience caused and request you to try again.",t.showPaymentDialog=!0):t.navigateToSrp()}).catch(function(e){t.showLoader=!1,t.showPaymentDialog=!1,setTimeout(function(){t.paymentErrorMessage="Oops, we seem to have temporary hiccup. We apologise for the inconvenience caused and request you to try again.",t.showPaymentDialog=!0},2e3)})}}}},237:function(t,e,a){e=t.exports=a(152)(!0),e.push([t.i,".content[data-v-4d9d2131]{padding-top:0;color:#757575;font-size:14px;margin-top:-70px}.pricefixed[data-v-4d9d2131]{position:fixed;bottom:0;width:100%;text-align:center;background-color:#f44336;height:43px;font-size:14px;font-weight:700}.pricefixed .btn[data-v-4d9d2131]{font-size:14px;margin-top:5px}.wallet .tabs[data-v-4d9d2131]{width:50%;float:left;border:1px solid #ccc;padding:0 8px;height:56px}.tab-bank[data-v-4d9d2131]{padding:12px 0}.wallet .w100[data-v-4d9d2131]{width:100px;margin-top:13px;position:relative;left:10px}.wallet .w100>img[data-v-4d9d2131]{width:inherit;height:auto}.p10[data-v-4d9d2131]{padding:10px}.p20[data-v-4d9d2131]{padding:20px}.wallet .lastTab[data-v-4d9d2131]:last-child{width:100%;border-bottom:2px solid #ccc}.tab-bank i[data-v-4d9d2131]{color:#000}.wallet .input-group[data-v-4d9d2131]{padding-top:13px}.p-20[data-v-4d9d2131]{padding:0 20px}","",{version:3,sources:["F:/bus/src/components/busPayment/Wallet.vue"],names:[],mappings:"AACA,0BACM,cAAiB,AACjB,cAA0B,AAC1B,eAAgB,AAChB,gBAAgB,CACrB,AACD,6BACQ,eAAgB,AAChB,SAAU,AACV,WAAY,AACZ,kBAAmB,AACnB,yBAA0B,AAC1B,YAAa,AACb,eAAgB,AAChB,eAAkB,CACzB,AACD,kCACQ,eAAe,AACf,cAAe,CACtB,AACD,+BACQ,UAAW,AACX,WAAY,AACZ,sBAAuB,AACvB,cAAe,AACf,WAAY,CACnB,AACD,2BACI,cAAgB,CACnB,AACD,+BACQ,YAAa,AACb,gBAAiB,AACjB,kBAAmB,AACnB,SAAW,CAClB,AACD,mCACO,cAAc,AACd,WAAY,CAClB,AACD,sBACQ,YAAc,CACrB,AACD,sBACQ,YAAc,CACrB,AACD,6CACO,WAAY,AACZ,4BAA8B,CACpC,AACD,6BACQ,UAAY,CACnB,AACD,sCACQ,gBAAkB,CACzB,AACD,uBACM,cAAgB,CACrB",file:"Wallet.vue",sourcesContent:["\n.content[data-v-4d9d2131]{\n      padding-top: 0px;\n      color: rgb(117, 117, 117);\n      font-size: 14px;\n      margin-top:-70px\n}\n.pricefixed[data-v-4d9d2131] {\n        position: fixed;\n        bottom: 0;\n        width: 100%;\n        text-align: center;\n        background-color: #f44336;\n        height: 43px;\n        font-size: 14px;\n        font-weight: bold;\n}\n.pricefixed .btn[data-v-4d9d2131]{\n        font-size:14px;\n        margin-top:5px;\n}\n.wallet .tabs[data-v-4d9d2131] {\n        width: 50%;\n        float: left;\n        border: 1px solid #ccc;\n        padding: 0 8px;\n        height:56px;\n}\n.tab-bank[data-v-4d9d2131] {\n    padding: 12px 0;\n}\n.wallet .w100[data-v-4d9d2131] {\n        width: 100px;\n        margin-top: 13px;\n        position: relative;\n        left: 10px;\n}\n.wallet .w100>img[data-v-4d9d2131]{\n       width:inherit;\n       height:auto;\n}\n.p10[data-v-4d9d2131] {\n        padding: 10px;\n}\n.p20[data-v-4d9d2131] {\n        padding: 20px;\n}\n.wallet .lastTab[data-v-4d9d2131]:last-child{\n       width: 100%;\n       border-bottom: 2px solid #ccc;\n}\n.tab-bank i[data-v-4d9d2131] {\n        color: #000;\n}\n.wallet .input-group[data-v-4d9d2131] {\n        padding-top: 13px;\n}\n.p-20[data-v-4d9d2131]{\n      padding: 0 20px;\n}\n"],sourceRoot:""}])},269:function(t,e,a){var n=a(237);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(153)("89a51cb6",n,!0,{})},293:function(t,e,a){function n(t){a(269)}var o=a(56)(a(194),a(321),n,"data-v-4d9d2131",null);t.exports=o.exports},321:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1},model:{value:t.walletDialog,callback:function(e){t.walletDialog=e},expression:"walletDialog"}},[a("v-toolbar",{staticClass:"white cd_fixed_header",attrs:{dark:""}},[a("v-btn",{staticStyle:{"margin-left":"0px"},attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.closeWalletDialog(e)}}},[a("v-icon",{staticClass:"cl_white_back payment_back"},[t._v("arrow_back")])],1),t._v(" "),a("v-toolbar-title",{staticClass:"cd_header_white header_white"},[t._v("Wallet")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){return t.closeCreditDialog(e)}}})],1)],1),t._v(" "),a("v-layout",{staticClass:"wallet bg-white",attrs:{row:"",wrap:""}},[a("v-snackbar",{staticClass:"snacktxt",attrs:{timeout:t.timeout,bottom:"bottom"===t.y},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n            Please Select Your Bank\n            "),a("v-btn",{staticClass:"txt-ff",attrs:{flat:""},nativeOn:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-flex",{attrs:{xs12:"",p10:""}},t._l(t.walletOption.suboptionList,function(e,n){return"ENABLED"===e.status?a("div",{key:n,staticClass:"tabs",class:{lastTab:t.walletOption.suboptionList%2==0},on:{click:function(a){t.bankcode=e.subOption}}},[a("span",{staticClass:"left radio-btn prel"},[a("v-radio-group",{attrs:{row:""},model:{value:t.bankcode,callback:function(e){t.bankcode=e},expression:"bankcode"}},[a("v-radio",{staticClass:"tab-bank tab-bank-wallet",attrs:{value:e.subOption,color:"primary",id:e.subOption}})],1)],1),t._v(" "),a("span",{staticClass:"left w100"},[a("img",{staticClass:"img-resp",attrs:{src:"/pwa/bus/static/img/icons/"+e.subOption+".png"}})])]):t._e()})),t._v(" "),a("v-flex",{attrs:{xs12:"","p-20":"",content:""}},[a("p",[t._v("We will redirect you to corresponding wallet page where you can make payment.")]),t._v(" "),a("p",[t._v("As per government norms, non-KYC customers can pay a maximum of "),a("span",[t._v("â‚¹")]),t._v(" 20,000 in a month using wallets.")])])],1),t._v(" "),a("v-snackbar",{staticClass:"snacktxt",attrs:{timeout:t.timeout,bottom:"bottom"===t.y},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n            "+t._s(t.snackbarText)+"\n            "),a("v-btn",{staticClass:"txt-ff",attrs:{flat:""},nativeOn:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("payment-error",{attrs:{showPaymentDialog:t.showPaymentDialog,paymentErrorMessage:t.paymentErrorMessage},on:{closePaymentError:function(e){t.showPaymentDialog=!1}}}),t._v(" "),t.showLoader?a("div",{staticClass:"ajax-loader"},[a("div",{staticClass:"sk-wave"},[a("div",{staticClass:"sk-rect sk-rect1"}),t._v(" "),a("div",{staticClass:"sk-rect sk-rect2"}),t._v(" "),a("div",{staticClass:"sk-rect sk-rect3"}),t._v(" "),a("div",{staticClass:"sk-rect sk-rect4"}),t._v(" "),a("div",{staticClass:"sk-rect sk-rect5"})])]):t._e(),t._v(" "),a("div",{staticClass:"pricefixed"},[a("button",{staticClass:"btn red",on:{click:function(e){return e.stopPropagation(),t.makePayment(e)}}},[t._v("PROCEED TO PAY â‚¹ "+t._s(t.totalPrice-t.redeemedamount)+" ")])])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=22.61ea86870a6895449e90.js.map